---
description: Perform structured analysis when starting a new user story to ensure clear understanding before implementation
globs: pkg/**/*.go, templates/**/*.html
---

# User Story Initial Analysis Workflow

## Context
- New user stories require thorough understanding before implementation
- Proper planning reduces rework and ensures alignment with requirements
- Clarifying ambiguities early prevents misunderstandings

## Requirements
- Begin with codebase exploration to understand the current structure:
  1. Examine relevant directories and files
  2. Understand domain models and business logic
  3. Review existing UI components and templates
- Formulate a clear, step-by-step implementation plan that includes:
  1. Domain layer changes (data structures, enums, constants)
  2. Application layer changes (business logic, services)
  3. UI layer changes (templates, handlers)
  4. Testing strategy for each component
- Review and revise the initial plan to:
  1. Identify potential edge cases
  2. Ensure all requirements are covered
  3. Consider performance and maintainability implications
- Prepare specific clarifying questions about:
  1. Ambiguous requirements
  2. UI/UX details not specified in the user story
  3. Expected behavior in edge cases
  4. Integration with existing features
- Wait for answers to clarifying questions before starting implementation
- DO NOT START IMPLEMENTATION IMMEDIATELY!!
- Ask the human if the plan is approved first
- Use the final plan for reference during implementation

